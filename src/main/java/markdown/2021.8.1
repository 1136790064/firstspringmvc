# mybatis初接触
> ## 前言

相信很多小伙伴在学习写自己的Java项目的时候，都写过JDBC来连接自己项目的数据库。  
在JDBC中，需要配置数据库连接驱动、数据库名、用户名和登录密码，以及调用数据库连接和关闭的对象，除此以外每次对数据库的操作都要小伙伴们再去拼接相应的sql语句，工作量不说特别多，但一定不少。  
而我们今天所要接触的Java框架my batis正好就是用来解决这个问题的。

> ## 起源

my batis其实刚诞生的时候并不是叫这个名字，它的初始名字叫做iBATIS，由Clinton Begin在2001年发起开发。有兴趣的小伙伴可以了解一下，这位大佬目前在Riot Games任职。

>## 发展

- 2004年，iBATIS发布2.0版本，随后Clinton Begin将项目捐献给了Apache。

- 2010年，iBATIS发布3.0版本，同年5月19日，开发团队将其迁移到google code，并改名为my batis。

- 2013年，11月10日，开发团队将其迁移到GitHub。

- 到目前为止(2021年8月1日)，my batis最新版本为2021年4月21日发布的3.5.7。

>## 概念

在接触mybatis之前先要了解几个概念：  

 #### ORM
- ORM（Object-Relationship-Mapping）：是对象关系映射的意思，它是一种思想，是指将数据库中的每一行数据用对象的形式表现出来。

 #### JPA
- JPA（Java-Persistence-API）：是Java持久化接口的意思，它是JavaEE关于ORM思想的一套标准接口，仅仅是一套接口，不是具体的实现。

我们再来看一下百度百科对mybatis的定义：  
- MyBatis 是一款优秀的持久层框架，它支持定制化 SQL、存储过程以及高级映射。MyBatis 避免了几乎所有的 JDBC 代码和手动设置参数以及获取结果集。MyBatis 可以使用简单的 XML 或注解来配置和映射原生信息，将接口和 Java 的 POJOs(Plain Ordinary Java Object,普通的 Java对象)映射成数据库中的记录。  
- 虽然信息很多，但其实总结一下，mybatis是一个实现了JPA规范的用来连接数据库并对其进行增删改查操作的开源框架，和传统JDBC一样的东西，用于连接数据库，只是这个框架将JDBC封装起来了，方便我们使用。  

>## 比较

既然mybatis是将JDBC封装的框架，那我们来比较一下，mybatis这个框架究竟和传统JDBC有什么区别，它到底好用在哪里？

#### JDBC连接数据库步骤：

1.注册驱动，获取连接。  
2.创建Statement对象。  
3.编写 SQL 语句。  
4.execute()方法执行SQL。  
5.关闭资源连接。  

在练习的时候，原生JDBC能够满足小伙伴们连接数据库的需求，但当实际开发或者涉及到一些复杂项目的时候，JDBC原生API就不适用了。  

#### JDBC在实际开发中带来的问题：
1.代码重复的问题。  
2.查询返回结果集处理困难的问题。  
3.资源连接管理的问题。  
4.代码耦合高，SQL语句必须写在代码中的硬编码问题。  
5.事务管理的问题。  

我们再来看一下mybatis有什么不同

#### mybatis特性：

1.使用连接池对连接进行管理。  
2.SQL 和代码分离，集中管理。  
3.参数映射和动态SQL。  
4.结果集映射。  
5.缓存管理。  
6.重复SQL通过SQL片段提取复用。  
7.插件机制。  

#### mybatis优点：

1.简单易学：本身就很小且简单。没有任何第三方依赖，最简单安装只要两个jar文件+配置几个sql映射文件易于学习，易于使用，通过文档和源代码，可以比较完全的掌握它的设计思路和实现。  
2.灵活：mybatis不会对应用程序或者数据库的现有设计强加任何影响。 sql写在xml里，便于统一管理和优化。通过sql语句可以满足操作数据库的所有需求。  
3.解除sql与程序代码的耦合：通过提供DAO层，将业务逻辑和数据访问逻辑分离，使系统的设计更清晰，更易维护，更易单元测试。sql和代码的分离，提高了可维护性。  
4.提供映射标签，支持对象与数据库的orm字段关系映射。  
5.提供对象关系映射标签，支持对象关系组建维护。  
6.提供xml标签，支持编写动态sql。  

可以看出来，mybatis简单易学，相较于原生JDBC大大减少了开发的工作量，降低了代码的重复度和耦合度，对于程序员来说，这是实际开发中操作数据库一个非常好的选择。

>## 结语

这次我们简单了解了一下mybatis，目前网上很多Java项目都是spring boot +mybatis，小伙伴们可以去下载几个项目练练手，在项目中学习框架。更多知识我们下回再聊。

本文参考资料：  
[https://baike.baidu.com/item/MyBatis/2824918?fr=aladdin#reference-[2]-4372646-wrap](https://baike.baidu.com/item/MyBatis/2824918?fr=aladdin#reference-[2]-4372646-wrap)
[https://my.oschina.net/wangweidang/blog/1798953](https://my.oschina.net/wangweidang/blog/1798953)
[https://blog.csdn.net/lzb348110175/article/details/104568924/](https://blog.csdn.net/lzb348110175/article/details/104568924/)